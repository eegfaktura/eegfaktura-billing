create table billing_document (id uuid not null, after_items_text varchar, before_items_text varchar, billing_document_type smallint, clearing_period_identifier varchar, clearing_period_type varchar, date_created timestamp(6) not null, document_date date, document_number varchar, gross_amount_in_euro numeric(38,2), issuer_address_line1 varchar, issuer_address_line2 varchar, issuer_address_line3 varchar, issuer_bankiban varchar, issuer_bank_name varchar, issuer_company_register_number varchar, issuer_mail varchar, issuer_name varchar, issuer_phone varchar, issuer_tax_id varchar, issuer_vat_id varchar, issuer_website varchar, last_updated timestamp(6) not null, net_amount_in_euro numeric(38,2), participant_id varchar, recipient_address_line1 varchar, recipient_address_line2 varchar, recipient_address_line3 varchar, recipient_name varchar, status varchar, tenant_id varchar, terms_text varchar, vat1percent numeric(38,2), vat1sum_in_euro numeric(38,2), vat2percent numeric(38,2), vat2sum_in_euro numeric(38,2), billing_run_id uuid, primary key (id));
create table billing_document_item (id uuid not null, amount numeric(38,2), clearing_period_identifier varchar, clearing_period_type varchar, date_created timestamp(6) not null, discount_percent numeric(38,2), gross_value numeric(38,2), last_updated timestamp(6) not null, net_value numeric(38,2), price_per_unit numeric(38,2), tenant_id varchar, text varchar, unit varchar, vat_percent numeric(38,2), vat_value_in_euro numeric(38,2), billing_document_id uuid, primary key (id));
create table billing_document_number (id uuid not null, date_created timestamp(6) not null, document_number varchar, document_type smallint, eec_prefix varchar, last_updated timestamp(6) not null, sequence_number bigint, tenant_id varchar, year integer, primary key (id));
create table billing_run (id uuid not null, billing_period_identifier varchar, billing_period_type varchar, date_created timestamp(6) not null, last_updated timestamp(6) not null, mail_status varchar, mail_status_date_time timestamp(6), number_of_credit_notes integer, number_of_invoices integer, run_status smallint, run_status_date_time timestamp(6), sepa_status varchar, sepa_status_date_time timestamp(6), tenant_id varchar, primary key (id));
create table file (id uuid not null, date_created timestamp(6) not null, file_data_id uuid, last_updated timestamp(6) not null, mime_type varchar, name varchar, tenant_id varchar, billing_document_id uuid, primary key (id));
create table file_data (id uuid not null, data oid, date_created timestamp(6) not null, last_updated timestamp(6) not null, mime_type varchar, name varchar, tenant_id varchar, primary key (id));
alter table if exists billing_document_number add constraint UKhbmeftd1x7fdlqtqqg2v20aev unique (tenant_id, document_number);
alter table if exists billing_document add constraint FK6gouorockuin30j66lev4xmky foreign key (billing_run_id) references billing_run;
alter table if exists billing_document_item add constraint FKa9p699hipxo9cn082v5nn8r97 foreign key (billing_document_id) references billing_document;
alter table if exists file add constraint FKjqt0uro12lskas3jc9lvtbxf0 foreign key (billing_document_id) references billing_document;
